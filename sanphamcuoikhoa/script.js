let products = {
    data: [
    { 
      id :1,
      name: "Áo Sơ Mi Nam Vải Cotton Lạnh" ,
      price : "85,000VND" ,
      Description : "Chất liệu Cotton lạnh Form  Áo Sơ Mi Nam Vải Cotton Lạnh dáng thiết kế cho nam Trắng  Chất liệu 100 chất cotton lụa thấm hút mồ hôiChất vải sờ mịn không bai, không nhăn không xù .Quy cách tiêu chuẩn đường may tinh tế tỉ mỉ trong từng chi tiết. Kiểu dáng Thiết kế đơn giản, dễ mặc dễ phối đồ Form body Hàn Quốc mang lại phong cách trẻ trung lịch lãm. Chất lượng sản phẩm tốt giá cả hợp lý",
      img : "./img/sanphamcuoikhoa/img/28.webp"

    },
      {
      id : 2 ,
      name : "Quần đùi jean ống rộng",
      price : "149,000VND" ,
      Description : "Chất liệu: Jeans cotton. Form : Quần đùi jean ống rộng dáng thiết kế cho cả nam và nữ đều mặc được. Size: S M L XL XXL Quần đùi jean ống rộng có màu sắc cực kì trendy xu hướng thời trang mặc từ năm này qua năm nọ không lo lỗi mốt. Hỗ trợ đổi size nếu không mặc vừa !",
      img : "./img/sanphamcuoikhoa/img/3-3.png"
    },
    {
      id : 3,
      name : "Áo Thun Tay Ngắn Cổ Tròn Khóa Kéo Kim Loại" ,
      price : "80,000VND" ,
      Description : "Chất liệu: Cotton. Form : Áo Thun Tay Ngắn Cổ Tròn Khóa Kéo Kim Loại dáng thiết kế cho nam. Trắng + Chất liệu: 100% chất cotton lụa, thấm hút mồ hôi; Chất vải sờ mịn không bai, không nhăn, không xù;Quy cách, tiêu chuẩn đường may tinh tế, tỉ mỉ trong từng chi tiết; Kiểu dáng: Thiết kế đơn giản, dễ mặc, dễ phối đồ;  Form body Hàn Quốc mang lại phong cách trẻ trung, lịch lãm;Chất lượng sản phẩm tốt, giá cả hợp lý;",
      img : "./img/sanphamcuoikhoa/img/2-5.png"
    },
    {
        id : 4,
        name : "Áo Khoác + Chân Váy Lưng Cao Dáng Ôm Mùa Thu" ,
        price : "396,000VND" ,
        Description : "Xuất xứ: Tỉnh Quảng Đông. Phong cách: Nữ tính khí. Các yếu tố phổ biến: Nút, Khâu, Không đối xứng. Phong cách: Váy phù hợ. Chiều dài tay áo: Dài tay Vải / chất liệu: Khác / Khác. Nội dung thành phần: 71% (Bao gồm) -80% (Bao gồm). Độ tuổi áp dụng: Thanh niên (18-25 tuổi)",
        img : "./img/sanphamcuoikhoa/img/Thiet-ke-chua-co-ten-1-6-300x300.png"
      },
    {
        id : 5,
        name : "Áo Váy Ngắn Phong Cách Mới 2024",
        price : "499,000VND" ,
        Description : "Xuất xứ: Tỉnh Quảng Đông. Phong cách: Ngọt ngào và tươi mát / Cao đẳng. Các yếu tố phổ biến: Màu rắn. Phong cách: phù hợp với váy. Chiều dài tay áo: Tay áo ngắn. Vải / chất liệu: Polyester / Polyester (Sợi Polyester). Nội dung thành phần: 81% (Bao gồm) -90% (Bao gồm). Độ tuổi áp dụng: Thanh niên (18-25 tuổi)",
        img : "./img/sanphamcuoikhoa/img/Thiet-ke-chua-co-ten-1-8.png"
      },
    {
        id : 6,
        name : "Quần Jeans Ống Rộng Wash Khói Nam Nữ Unisex Chất Denim" ,
        price : "150,000VND",
        Description : "Chất liệu : jeans – Kiểu dáng quần jeans from xuông – Size XS S M L XL XXL ",
        img : "./img/sanphamcuoikhoa/img/15.png"
      },
    {
        id : 7,
        name : "Set Quần Áo Hình Thêu Phong Cách Hip Hop" ,
        price : "300,000VND" ,
        Description : "Chất liệu: Demin. Form : Set Quần Áo Hình Thêu Phong Cách Hip Hop dáng thiết kế phù hợp với mọi người. Phong cách: Đường phố. Loại khóa: Khóa kéo.  Mẫu: Trơn. Chất vải demin cứng cáp. Quy cách, tiêu chuẩn đường may tinh tế, tỉ mỉ trong từng chi tiết; Kiểu dáng: Thiết kế đơn giản, dễ mặc, dễ phối đồ; Chất lượng sản phẩm tốt, giá cả hợp lý; ",
        img : "./img/sanphamcuoikhoa/img/6-1.png"
      },
    {
        id : 8,
        name : "Áo len cổ bẻ" ,
        price : "50,000VND" ,
        Description : "Áo len cổ bẻ. Kích thước: M L XL XL. Cổ áo: Cổ tròn. Màu sắc: xám đen be. Tay áo: Tay áo rơi xuống vai. Thời gian đưa ra thị trường: 2023. Phong cách cơ bản: nhẹ nhàng, lịch sự. Mùa áp dụng: Mùa thu. Chiều dài tay áo: tay áo dài. Dày và mỏng: thông thường. Đối tượng áp dụng: Thanh niên, học sinh sinh viên. Kiểu dáng: Áo khoác",
        img : "./img/sanphamcuoikhoa/img/13.webp"
      },
    {
        id : 9,
        name : "Quần Jean Ống Rộng Dáng Suông Rách Gối Phong Cách Đường Phố" ,
        price : "70,000VND" ,
        Description : "Giới tính áp dụng: Nam. Phong cách: phong cách hàn quốc. Độ tuổi phù hợp: thanh thiếu niên (18-35 tuổi). Tên vải: denim. Thành phần vải chính: Bông. Nội dung vải chính: 100 (%). Mô hình: Màu rắn. Số lượng: Một mảnh. Eo: eo giữa. Pant placket: placket buộc dây. Kích thước: S, M, L, XL, 2XL, 3XL",
        img : "./img/sanphamcuoikhoa/img/33.webp"
      },
    {
        id : 10,
        name : "Quần Jean Xếp Ly Kiểu Retro Cá Tính" ,
        price : "99,000VND  " ,
        Description : "Chất liệu: Jean Cotton. Form : Quần Jean Xếp Ly Kiểu Retro Cá Tính dáng thiết kế cho nam. Nội dung thành phần: 51% (Bao gồm) -70% (Bao gồm). Phiên bản phiên bản: Loose. Loại eo: eo giữa. Chiều dài quần: Quần. Các yếu tố phổ biến: Nút, Dây kéo, Khâu. Phong cách: Xu hướng thanh niên. Chức năng chức năng: Giữ ấm. Có thêm nhung hay không: Không có nhung. Độ đàn hồi: Không có đạn. Chất lượng sản phẩm tốt, giá cả hợp lý; ",
        img : "./img/sanphamcuoikhoa/img/3-1.png"
      },

        ]
        };

        document.addEventListener("DOMContentLoaded", function() {
            const productsContainer = document.getElementById('products');
        
            products.data.forEach(product => {
                const productElement = document.createElement('div');
                productElement.classList.add('product');
        
                const imageElement = document.createElement('img');
                imageElement.src = product.img; // Corrected from product.image
                productElement.appendChild(imageElement);
        
                const nameElement = document.createElement('p');
                nameElement.textContent = product.name;
                productElement.appendChild(nameElement);
        
                const priceElement = document.createElement('p');
                priceElement.textContent = product.price;
                productElement.appendChild(priceElement);
        
                const buttonElement = document.createElement('button');
                buttonElement.textContent = 'Add to Cart';
                buttonElement.addEventListener('click', function() {
                    addToCart(product);
                });
                productElement.appendChild(buttonElement);
        
                productsContainer.appendChild(productElement);
            });
        
            function addToCart(product) {
                const userData = JSON.parse(localStorage.getItem('userData'));
        
                if (userData) {
                    let cart = JSON.parse(localStorage.getItem('cart')) || [];
                    cart.push(product);
                    localStorage.setItem('cart', JSON.stringify(cart));
                    alert('Product added to cart!');
                } else {
                    alert('Please log in first to add products to your cart.');
                    // Redirect to login or handle login process
                }
            }
        });